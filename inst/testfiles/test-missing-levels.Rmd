---
title: "R Notebook"
output: html_notebook
editor_options: 
  chunk_output_type: inline
---

```{r}
library(sperrorest, mlr)
data("basque")
basque$geometry <- NULL
```


```{r}
task <- makeClassifTask(id = "pathogen_data", data = basque, 
                        target = "diplo01", positive = "1")
getTaskDesc(task)
```

```{r}
rdesc <- makeResampleDesc("RepCV", folds = 10, reps = 2)
```

```{r}
lrn <- makeLearner("classif.binomial", 
                   link = "logit",
                   predict.type = "prob")
```

```{r}
resa <- resample(lrn, task, rdesc, measures = list(auc))
```

## debug predict
```{r}
train.set = seq(1, 150, 2)
test.set = seq(2, 150, 2)
model = train("classif.binomial", task, subset = train.set)
p = predict(model, newdata = iris, subset = test.set)
print(p)
predict(model, task = iris.task, subset = test.set)
```

# check with train

```{r}
resa <- train(lrn, task)
```

```{r}
predict(resa, task = task, subset = test.set)
```

